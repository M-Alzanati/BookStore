<mat-card>
    <mat-card-title>
        {{title}}
    </mat-card-title>
    <mat-card-content>
        <div fxLayout="row" fxLayoutGap="100px">
            <form fxFlex [formGroup]="addBookForm" (ngSubmit)="onAddBookFormSubmit()">
                <app-stat [bgClass]="'clear'" [icon]="'bookmark'" [label]="'Add New Book'">
                    <div fxLayout="row" fxLayoutGap="30px" style="color: black;">
                        <div class="child-1">
                            <mat-form-field>
                                <input matInput placeholder="Book Name" formControlName="name" type="text">
                            </mat-form-field>
                        </div>
                        <div class="child-2">
                            <mat-form-field>
                                <input matInput type="number" placeholder="Book Price" formControlName="price">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxLayout="row" fxLayoutGap="30px" style="color: black;">
                        <div class="child-1">
                            <mat-form-field appearance="fill">
                                <mat-label>Select Category</mat-label>
                                <mat-select formControlName="categorgyId">
                                    <mat-option *ngFor="let c of categories" [value]="c.id">
                                        {{c.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="child-2">
                            <mat-form-field appearance="fill">
                                <mat-label>Select Author</mat-label>
                                <mat-select formControlName="authorId">
                                    <mat-option *ngFor="let a of authors" [value]="a.id">
                                        {{a.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <br>
                    <div fxFlex fxLayout="row">
                        <div fxFlexFill fxLayoutAlign="center">
                            <button mat-raised-button color="primary" class="w-100" type="submit">Add Book</button>
                        </div>
                    </div>
                </app-stat>
            </form>
            <app-stat [bgClass]="'clear2'" [icon]="'bookmark'" [label]="'Add Book Review'">
                <form fxFlex [formGroup]="addReviewForm" (ngSubmit)="onAddReviewFormSubmit()" style="color: black;">
                    <div fxLayout="row" fxLayoutGap="30px" style="color: black;">
                        <div class="child-1">
                            <mat-form-field>
                                <input matInput placeholder="Book Name" formControlName="bookName" type="text">
                            </mat-form-field>
                        </div>
                        <div class="child-2">
                            <mat-form-field>
                                <input matInput type="number" placeholder="Book rating" formControlName="rating">
                            </mat-form-field>
                        </div>
                    </div>
                    <div fxlayout="row" style="color: black;">
                        <mat-form-field style="width: -webkit-fill-available;">
                            <input matInput placeholder="Book review" formControlName="text" type="text">
                        </mat-form-field>
                    </div>
                    <br>
                    <div fxFlex fxLayout="row" style="color: black;">
                        <div fxFlexFill fxLayoutAlign="center">
                            <button mat-raised-button color="primary" class="w-100" type="submit">Add Review</button>
                        </div>
                    </div>
                </form>
            </app-stat>
        </div>
        <br>
        <div fxLayout="row" fxLayoutGap="100px">
            <div class="child-1" style="width: 45%;">
                <app-stat [bgClass]="'details'" [icon]="'bookmark'" [label]="'Book Details'">
                    <form fxFlex [formGroup]="getBookDetailsForm" (ngSubmit)="onGetBookDetails()" style="color: black;">
                        <div fxLayout="row" fxLayoutGap="50px">
                            <div class="child-1">
                                <div fxLayout="column" fxLayoutGap="15px">
                                    <div class="child-1">
                                        <mat-form-field>
                                            <input matInput placeholder="Book Name" formControlName="bookName"
                                                type="text">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="child-2" fxLayoutAlign="left">
                                    <button mat-raised-button color="primary" type="submit">
                                        Get Book Details</button>
                                </div>
                            </div>
                            <div class="child-1">
                                <div fxLayout="column" fxLayoutGap="15px">
                                    <div class="child-1">
                                        <h3>Book Name: {{bookModel?.name}}</h3>
                                    </div>
                                    <div class="child-2">
                                        <h3>Book Price: {{bookModel?.price}}</h3>
                                    </div>
                                    <div class="child-3">
                                        <h3>Book Author: {{bookModel?.authorId}}</h3>
                                    </div>
                                    <div class="child-4">
                                        <h3>Book Category: {{bookModel?.categoryId}}</h3>
                                    </div>
                                    <div class="child-4">
                                        <h3>Book Rating: {{bookModel?.avgRating}}</h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </app-stat>
            </div>
            <div class="child-2" style="width: 55%;">
                <app-stat [bgClass]="'success2'" [icon]="'bookmark'" [label]="'Authors'">
                    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef> Name </th>
                            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                        </ng-container>

                        <ng-container matColumnDef="bookName">
                            <th mat-header-cell *matHeaderCellDef> Book Name </th>
                            <td mat-cell *matCellDef="let element"> {{element.bookName}} </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>
                </app-stat>
            </div>
        </div>
    </mat-card-content>
</mat-card>